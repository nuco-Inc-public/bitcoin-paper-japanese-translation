# 5.ネットワーク

ネットワークを実行する手順は以下の通りである。

1. 新しい取引は全ノードに通達される。
2. 各ノードが新しい取引をブロックに集める。
3. 各ノードがブロックへのプルーフ・オブ・ワークを見つけ出す。
4. プルーフ・オブ・ワークを見つけ次第、各ノードはそのブロックを全ノードに通達する。
5. ノードは、ブロックに含まれる全ての取引が有効であり、使用済みでない場合のみブロックを承認する。
6. ノードは承認されたブロックのハッシュを直前のハッシュとして使用し、チェーン内の次のブロックの作成に取り組むことでブロック承認を表現する。

ノードは常に最長のチェーンを正しいと見なし、拡張しようとする。もし、2つのノードが異なるバージョンの次のブロックを同時に通達する場合、順番が入れ替わるかもしれない。その場合、最初に受け取ったブロックを処理するが、もう一方のものを保存しておき、長くなった場合に備える。
次のプルーフ・オブ・ワークが発見され、1つのブランチが長くなると紐づきが切れ、他のブランチで取り組んでいたノードは長い方のブランチに切り替わる。
新しい取引の通達は必ずしも全てのノードに届く必要はない。通達が多くのノードに届く限り、やがてブロックに組み込まれるだろう。ブロック通達もまた、メッセージの破損に耐える。ノードがブロックを受信しなかった場合、ノードは次のブロックを受信したときにブロックを要求し、それが失われたことを認識する。
